DATAS SEGMENT
	ARRAY DW	1,2,3,4,5
	TABLE DW	3	DUP(?)
	COUNT DW	5
	DOUBLE DB   2
    ;此处输入数据段代码  
DATAS ENDS

STACKS SEGMENT
    ;此处输入堆栈段代码
STACKS ENDS

CODES SEGMENT
    ASSUME CS:CODES,DS:DATAS,SS:STACKS
START:
    MOV AX,DATAS
    MOV DS,AX
    
    MOV TABLE,OFFSET ARRAY
    MOV TABLE+2,OFFSET COUNT
    MOV BX,OFFSET TABLE
    
    CALL SWAP
    
    JMP  EXIT1
SWAP:

	PUSH AX
	PUSH BX
	PUSH CX
	PUSH DX
	
	MOV  SI,[BX]
	MOV  AX,SI
	PUSH AX
	MOV  DX,[BX+2]
	MOV  BX,DX
	MOV  AX,[BX]
	SUB  AX,1
	MUL  DOUBLE
	MOV  CX,AX
	POP  AX
	
	SWAP0:
		
		CMP AX,CX
		JZ  EXIT0
		PUSH AX
		MOV  BX,AX
		MOV  AX,[BX]
		MOV  BX,CX
		MOV  DX,[BX]
		MOV  [BX],AX
		POP  AX
		MOV  BX,AX
		MOV  [BX],DX
		ADD  AX,2
		CMP  AX,CX
		JZ   EXIT0
		SUB  CX,2
		JMP  SWAP0

EXIT0:


	POP  DX
	POP  CX
	POP  BX
	POP	 AX
	RET

EXIT1:

    ;此处输入代码段代码
    MOV AH,4CH
    INT 21H
CODES ENDS
    END START
